import csv

# Datos para el archivo de permisos actualizado
permissions_data = [
    # Orden de reparación - permisos completos para usuarios y administradores
    ["access_mobile_repair_order_user", "mobile.repair.order.user", "model_mobile_repair_order", "base.group_user", "1", "1", "1", "1"],
    ["access_mobile_repair_order_manager", "mobile.repair.order.manager", "model_mobile_repair_order", "base.group_system", "1", "1", "1", "1"],
    
    # Líneas de orden de reparación - NUEVO MODELO
    ["access_mobile_repair_order_line_user", "mobile.repair.order.line.user", "model_mobile_repair_order_line", "base.group_user", "1", "1", "1", "1"],
    ["access_mobile_repair_order_line_manager", "mobile.repair.order.line.manager", "model_mobile_repair_order_line", "base.group_system", "1", "1", "1", "1"],
    
    # Marcas de dispositivos
    ["access_mobile_repair_device_brand_user", "mobile.repair.device.brand.user", "model_mobile_repair_device_brand", "base.group_user", "1", "1", "1", "1"],
    ["access_mobile_repair_device_brand_manager", "mobile.repair.device.brand.manager", "model_mobile_repair_device_brand", "base.group_system", "1", "1", "1", "1"],
    
    # Modelos de dispositivos
    ["access_mobile_repair_device_model_user", "mobile.repair.device.model.user", "model_mobile_repair_device_model", "base.group_user", "1", "1", "1", "1"],
    ["access_mobile_repair_device_model_manager", "mobile.repair.device.model.manager", "model_mobile_repair_device_model", "base.group_system", "1", "1", "1", "1"],
    
    # Colores de dispositivos
    ["access_mobile_repair_device_color_user", "mobile.repair.device.color.user", "model_mobile_repair_device_color", "base.group_user", "1", "1", "1", "1"],
    ["access_mobile_repair_device_color_manager", "mobile.repair.device.color.manager", "model_mobile_repair_device_color", "base.group_system", "1", "1", "1", "1"],
    
    # Accesorios de dispositivos
    ["access_mobile_repair_device_accessory_user", "mobile.repair.device.accessory.user", "model_mobile_repair_device_accessory", "base.group_user", "1", "1", "1", "1"],
    ["access_mobile_repair_device_accessory_manager", "mobile.repair.device.accessory.manager", "model_mobile_repair_device_accessory", "base.group_system", "1", "1", "1", "1"],
    
    # Dispositivos
    ["access_mobile_repair_device_user", "mobile.repair.device.user", "model_mobile_repair_device", "base.group_user", "1", "1", "1", "1"],
    ["access_mobile_repair_device_manager", "mobile.repair.device.manager", "model_mobile_repair_device", "base.group_system", "1", "1", "1", "1"],
    
    # Problemas - ahora con permisos completos para usuarios
    ["access_mobile_repair_problem_user", "mobile.repair.problem.user", "model_mobile_repair_problem", "base.group_user", "1", "1", "1", "1"],
    ["access_mobile_repair_problem_manager", "mobile.repair.problem.manager", "model_mobile_repair_problem", "base.group_system", "1", "1", "1", "1"],
    
    # Categorías de problemas - ahora con permisos completos para usuarios
    ["access_mobile_repair_problem_category_user", "mobile.repair.problem.category.user", "model_mobile_repair_problem_category", "base.group_user", "1", "1", "1", "1"],
    ["access_mobile_repair_problem_category_manager", "mobile.repair.problem.category.manager", "model_mobile_repair_problem_category", "base.group_system", "1", "1", "1", "1"],
    
    # Permisos adicionales para grupos específicos de ventas y empleados
    ["access_mobile_repair_order_sale_user", "mobile.repair.order.sale.user", "model_mobile_repair_order", "sales_team.group_sale_salesman", "1", "1", "1", "0"],
    ["access_mobile_repair_order_sale_manager", "mobile.repair.order.sale.manager", "model_mobile_repair_order", "sales_team.group_sale_manager", "1", "1", "1", "1"],
    
    # Permisos para empleados
    ["access_mobile_repair_order_employee", "mobile.repair.order.employee", "model_mobile_repair_order", "base.group_user", "1", "1", "1", "1"],
    ["access_mobile_repair_order_line_employee", "mobile.repair.order.line.employee", "model_mobile_repair_order_line", "base.group_user", "1", "1", "1", "1"],
]

# Escribir el archivo CSV
with open('ir.model.access.csv', 'w', newline='', encoding='utf-8') as csvfile:
    writer = csv.writer(csvfile)
    
    # Escribir encabezado
    writer.writerow(['id', 'name', 'model_id:id', 'group_id:id', 'perm_read', 'perm_write', 'perm_create', 'perm_unlink'])
    
    # Escribir datos
    writer.writerows(permissions_data)

print("Archivo ir.model.access.csv actualizado con todos los permisos para desarrollo")
print(f"Total de reglas de acceso: {len(permissions_data)}")

# Mostrar algunas líneas del archivo para verificar
with open('ir.model.access.csv', 'r', encoding='utf-8') as f:
    lines = f.readlines()
    print("\nPrimeras 10 líneas del archivo:")
    for i, line in enumerate(lines[:10]):
        print(f"{i+1}: {line.strip()}")